(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{15:function(e,t,s){},17:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s(9),r=s.n(c),n=(s(14),s(2)),i=s(8),o=s(3),l=s(4),h=s(6),d=s(5),b=(s(15),s(0)),j=function(e){var t=e.item;return Object(b.jsxs)("div",{className:"card",children:[Object(b.jsx)("img",{className:"card-img-top card-img--height",src:"https://image.tmdb.org/t/p/w500".concat(t.backdrop_path||t.poster_path),alt:""}),Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("div",{className:"card-title",children:t.title}),Object(b.jsxs)("div",{className:"card-text",children:["\u0420\u0435\u0439\u0442\u0438\u043d\u0433: ",t.vote_average]}),Object(b.jsx)("button",{onClick:function(){var e=window.location.href="https://www.themoviedb.org/movie/".concat(t.id);window.location.href=e},className:"btn btn-primary",children:"View"})]})]})},u=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.props.getMovies(this.props.filters)}},{key:"componentDidUpdate",value:function(e){this.props.filters.sort_by!==e.filters.sort_by&&this.props.getMovies(this.props.filters)}},{key:"render",value:function(){var e=this.props.movies;return Object(b.jsx)("div",{className:"row",children:e.map((function(e){return Object(b.jsx)("div",{className:"col-6 mb-4",children:Object(b.jsx)(j,{item:e})},e.id)}))})}}]),s}(a.Component),v=function(e){var t=e.filters.sort_by,s=e.onChangeFilters;return Object(b.jsx)("form",{className:"mb-3",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"sort_by",children:"\u0421\u043e\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u043f\u043e:"}),Object(b.jsxs)("select",{value:t,name:"sort_by",className:"form-control",id:"sort_by",onChange:s,children:[Object(b.jsx)("option",{value:"popularity.desc",children:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u0456 \u0437\u0430 \u0441\u043f\u0430\u0434\u0430\u043d\u043d\u044f\u043c"}),Object(b.jsx)("option",{value:"popularity.asc",children:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u0456 \u0437\u0430 \u0437\u0440\u043e\u0441\u0442\u0430\u043d\u043d\u044e"}),Object(b.jsx)("option",{value:"vote_average.desc",children:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u0437\u0430 \u0441\u043f\u0430\u0434\u0430\u043d\u043d\u044f\u043c"}),Object(b.jsx)("option",{value:"vote_average.asc",children:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u0437\u0430 \u0437\u0440\u043e\u0441\u0442\u0430\u043d\u043d\u044e"})]})]})})},m=function(e){return Object(b.jsxs)("form",{className:"input-group",onSubmit:e.searchMovies,children:[Object(b.jsx)("input",{type:"search",className:"form-control rounded",placeholder:"Search","aria-label":"Search","aria-describedby":"search-addon",value:e.searchTerm,onChange:e.handleOnChange}),Object(b.jsx)("button",{type:"button",className:"btn btn-outline-primary",children:"Search"})]})},p="https://api.themoviedb.org/3",f="bd9299632bb2508f574e117e1996579f",O=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={movies:[],filters:{sort_by:"vote_average.asc"},searchTerm:""},e.getMovies=function(t){var s=t.sort_by,a="".concat(p,"/discover/movie?api_key=").concat(f,"&language-ru-RU&sort_by=").concat(s);fetch(a).then((function(e){return e.json()})).then((function(t){e.setState({movies:t.results})}))},e.onChangeFilters=function(t){var s=t.target.value,a=t.target.name;e.setState((function(e){return{filters:Object(i.a)(Object(i.a)({},e.filters),{},Object(n.a)({},a,s))}}))},e.searchMovies=function(t){var s=e.state.searchTerm;t.preventDefault();var a="".concat(p,"/search/movie?api_key=").concat(f,"&language=en-US&query=").concat(s);fetch(a).then((function(e){return e.json()})).then((function(t){e.setState({movies:t.results})}))},e.handleOnChange=function(t){e.setState({searchTerm:t.target.value})},e}return Object(l.a)(s,[{key:"render",value:function(){var e=this.state,t=e.filters,s=e.searchTerm,a=e.movies;return Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"row mt-4",children:[Object(b.jsx)("div",{className:"col-12 mb-3",children:Object(b.jsx)(m,{searchTerm:s,searchMovies:this.searchMovies,handleOnChange:this.handleOnChange})}),Object(b.jsx)("div",{className:"col-4",children:Object(b.jsx)("div",{className:"card",style:{width:"100% "},children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h3",{children:"\u0424\u0456\u043b\u044c\u0442\u0440\u0438"}),Object(b.jsx)(v,{filters:t,onChangeFilters:this.onChangeFilters})]})})}),Object(b.jsx)("div",{className:"col-8",children:Object(b.jsx)(u,{filters:t,getMovies:this.getMovies,movies:a})})]})})}}]),s}(a.Component);r.a.render(Object(b.jsx)(O,{}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.0990295e.chunk.js.map